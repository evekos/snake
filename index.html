<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Змейка!</title>
    <script src="https://code.jquery.com/jquery-2.1.0.js"></script>
    <script src="./src/classes/Apple.js"></script>
    <script src="./src/classes/Draw.js"></script>
    <script src="./src/classes/Block.js"></script>
    <script src="./src/classes/Board.js"></script>
    <script src="src/classes/Game.js"></script>
    <script src="./src/classes/KeyEvents.js"></script>
    <script src="./src/classes/Snake.js"></script>
    <meta name="viewport"
          content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
</head>
<body style="background: #000000;">


<canvas id='canvas' width="800" height="800"
        style="width:100%;margin: 0 auto;max-width: 600px;display: block;"></canvas>
<table id="keyboard" style="margin: 0 auto;">
    <tr>
        <td colspan="3" style="
    text-align: center;
">
            <button id="up" type="button" style="
    background: #ffffff;
    border: 0;
    color: #000;
    border-radius: 50%;
    width: 100px;
    height: 100px;
    font-size: 46px;
    text-align: center;
    padding-bottom: 7px;
    vertical-align: middle;
        cursor: pointer;
">&#x2191;
            </button>
        </td>
    </tr>
    <tr>
        <td>
            <button id="left" type="button" style="
    background: #ffffff;
    border: 0;
    color: #000;
    border-radius: 50%;
    width: 100px;
    height: 100px;
    font-size: 46px;
    text-align: center;
    padding-bottom: 7px;
    vertical-align: middle;
        cursor: pointer;
">&#x2190;
            </button>
        </td>
        <td>
            <button id="down" type="button" style="
    background: #ffffff;
    border: 0;
    color: #000;
    border-radius: 50%;
    width: 100px;
    height: 100px;
    font-size: 46px;
    text-align: center;
    padding-bottom: 7px;
    vertical-align: middle;
        cursor: pointer;
">&#x2193;
            </button>
        </td>
        <td>
            <button id="right" type="button" style="
    background: #ffffff;
    border: 0;
    color: #000;
    border-radius: 50%;
    width: 100px;
    height: 100px;
    font-size: 46px;
    text-align: center;
    padding-bottom: 7px;
    vertical-align: middle;
        cursor: pointer;
">&#x2192;
            </button>
        </td>
    </tr>
</table>
<div style="margin: 0 auto;text-align: center;">
    <button id="start" type="button" style="
    background: #ffffff;
    border: 0;
    color: #ffd500;
    border-radius: 50%;
    width: 100px;
    height: 100px;
    font-size: 25px;
    text-align: center;
    vertical-align: middle;
        cursor: pointer;
">START
    </button>
</div>


<script src="./src/config.js"></script>


<script>
    const game = new Game()

    const btnStart = document.getElementById("start")

    btnStart.addEventListener('click', () => {
        game.newGame()
    })
    btnStart.addEventListener('touchstart', () => {
        game.newGame()
    })
    game.hideKeyboard()

	document.addEventListener('touchmove', function (event) {
		if (event.scale !== 1) { event.preventDefault(); }
	}, false);
	let lastTouchEnd = 0;
	document.addEventListener('touchend', function (event) {
		let now = (new Date()).getTime();
		if (now - lastTouchEnd <= 300) {
			event.preventDefault();
		}
		lastTouchEnd = now;
	}, false);
</script>
</body>
</html>